class Test

instance variables
  s1 : SistemaControlAcceso;
  u1 : Usuario;
  u2 : Usuario;
  u3 : Usuario;
  l1 : Laboratorio;
  l2 : Laboratorio;

operations

  public test0 : () ==> ()
  test0() ==
  (
    s1 := new SistemaControlAcceso();
    u1 := new Usuario(1, "Alice", <ADMIN>);
    u2 := new Usuario(2, "Bob", <DOCENTE>);
    u3 := new Usuario(3, "Charlie", <ESTUDIANTE>);
    l1 := new Laboratorio(1, "Lab A", "Building 1");
    l2 := new Laboratorio(2, "Lab B", "Building 2");

    s1.RegistrarUsuario(u1);
    s1.RegistrarUsuario(u2);
    s1.RegistrarUsuario(u3);
    s1.RegistrarLaboratorio(l1);
    s1.RegistrarLaboratorio(l2);

    s1.AsignarPermiso(1, 1);
    s1.AsignarPermiso(1, 2);
    s1.AsignarPermiso(2, 1);
    s1.AsignarPermiso(3, 2);
    s1.AsignarPermiso(99, 1);

    s1.VerificarAcceso(1, 1);
    s1.VerificarAcceso(2, 1);
    s1.VerificarAcceso(3, 1);
    s1.VerificarAcceso(99, 1);

    s1.RegistrarIntentoAcceso(1, 1, true);
    s1.RegistrarIntentoAcceso(3, 1, false);
    s1.RegistrarIngreso(1, 1);
    s1.RegistrarSalida(1, 1);

    s1.ModificarUsuario(1, "Alice Mod", <ADMIN>);
    s1.ModificarLaboratorio(1, "Lab Redes Mod", "Building 3");
    s1.DarBajaUsuario(3);
    s1.DarBajaLaboratorio(2);

    s1.RevocarPermiso(1, 2);
    s1.HistorialLaboratorio(1, {<INTENTO_ACCESO>, <INGRESO>, <SALIDA>});
    s1.HistorialUsuario(1, {<INTENTO_ACCESO>, <INGRESO>, <SALIDA>});
  );

end Test
